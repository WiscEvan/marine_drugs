LENGTH_FILTER=/home/evan/miniconda3/envs/autometa/bin/autometa-length-filter
COVERAGES=/home/evan/miniconda3/envs/autometa/bin/autometa-coverage
KMERS=/home/evan/miniconda3/envs/autometa/bin/autometa-kmers

/home/evan/marine_drugs/marine_drugs/data/interim/binning/FL2015_4.kmers.tsv /home/evan/marine_drugs/marine_drugs/data/interim/binning/FL2015_4.kmers.norm.tsv /home/evan/marine_drugs/marine_drugs/data/interim/binning/FL2015_4.kmers.embedded.tsv : /home/evan/marine_drugs/marine_drugs/data/interim/assemblies/FL2015_4.filtered.fna
    $(KMERS) --fasta /home/evan/marine_drugs/marine_drugs/data/interim/assemblies/FL2015_4.filtered.fna --kmers /home/evan/marine_drugs/marine_drugs/data/interim/binning/FL2015_4.kmers.tsv --normalized /home/evan/marine_drugs/marine_drugs/data/interim/binning/FL2015_4.kmers.norm.tsv --embedded /home/evan/marine_drugs/marine_drugs/data/interim/binning/FL2015_4.kmers.embedded.tsv --size 5 --norm-method am_clr --do-pca --pca-dimensions 50 --embed-dimensions 2 --embed-method bhsne

coverages.tsv : /home/evan/marine_drugs/marine_drugs/data/interim/assemblies/FL2015_4.filtered.fna
    $(COVERAGES) --from-spades --assembly /home/evan/marine_drugs/marine_drugs/data/interim/assemblies/FL2015_4.filtered.fna --out coverages.tsv

/home/evan/marine_drugs/marine_drugs/data/interim/assemblies/FL2015_4.filtered.fna : /home/evan/marine_drugs/marine_drugs/data/raw/assemblies/FL2015_4.fasta
    $(LENGTH_FILTER) /home/evan/marine_drugs/marine_drugs/data/raw/assemblies/FL2015_4.fasta /home/evan/marine_drugs/marine_drugs/data/interim/assemblies/FL2015_4.filtered.fna --cutoff 900
